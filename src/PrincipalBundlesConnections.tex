%
\section{Principal Bundles and Connections}
%
Good references for this material would be \cite{KobNom} and \cite{Tu} \\

Fix a close manifold $X$ (compact and without boundary) and a Lie group $G$.
%
\begin{defn}
A \ib{principal $G$-bundle} is a fiber bundle $\pi : P \to M$ with a smooth
right $G$ action such that:
\begin{enumerate}
  \item The action of $G$ preserves the fibers of $\pi$, and gives each fiber
  $P_x \defeq \pi\inv(x)$ the structure of a \ib{right $G$-torsor}, i.e. the
  action of $G$ on $P_x$ is free and transitive.
  \item For every point $x \in X$, there exists a \ib{local trivialization} of
  $P$, i.e. a diffeomorphism $\varphi : P\vert_U \defeq \pi\inv(U) \to U \times G$
  that is $G$-equivariant (where the action on $U \times G$ is right multiplication
  with the second factor) and the following diagram commutes:
  \[\begin{tikzcd}
  P\vert_U \ar[rr, "\varphi"] \ar[dr, "\pi"'] && U \times G \ar[dl] \\
  & U
  \end{tikzcd}\]
  where the map $U\times G \to U$ is projection onto the first factor.
\end{enumerate}
\end{defn}
%
\begin{exmp}
Let $E \to X$ be a real vector bundle of rank $k$. For $x \in X$, let $\B_x$
denote the set of all bases of the fiber $E_x$, i.e. the set of linear isomorphisms
$\R^k \to E_x$. This has a natural right action of $\GL_k\R$ by precomposition.
Furthermore, this action is free and transitive, giving $\B_x$ the structure
of a $\GL_k\R$-torsor. Then let
\[
\B_{\GL_k\R}(E) \defeq \coprod_{x \in X}\B_x
\]
Using local trivializations of the vector bundle $E$, we equip $\B_{\GL_k\R}(E)$
with the structure of a smooth manifold such that the map
$\pi : \B_{\GL_k\R}(E) \to X$ taking $\B_x$ to $x$ is a submersion. This gives
$\pi : \B_{GL_k\R} \to X$ the structure of a principal $\GL_k\R$-bundle, called
the \ib{frame bundle} of $E$,  where the local trivializations are defined in terms of
local trivializations of $E$.
\end{exmp}
%
\begin{exmp}
Let $E \to X$ be a rank $k$ vector bundle equipped with a fiber metric, i.e. a
smoothly  varying inner product on the fibers $E_x$. Then the
\ib{orthonormal frame bundle} of $E$, denoted $\B_{\mathrm{O}}(E)$, is the principal
$\mathrm{O}_k$-bundle where the fiber over $x \in X$ is the $\mathrm{O}_k$-torsor
of orthonormal bases for $E_x$.
\end{exmp}
%
A near identical story holds for complex vector bundles -- from any complex
vector bundle we get a principal $\mathrm{GL}_k\C$-bundle of frames, and if
we fix a Hermitian fiber metric, we get a principal $\mathrm{U}_k$-bundle of
orthonormal frames. \\

Principal bundles can be thought bundles of symmetries of some other fiber bundle,
which can be made precise using the notion of an associated bundle, which allows
one to construct fiber bundles out of principal bundles.
%
\begin{defn}
Let $P \to X$ be a principal $G$-bundle, and let $F$ be a smooth manifold with
right $G$ action. The \ib{associated fiber bundle}, denoted $P \times_G F$
(sometimes denoted $P \times^G F$) is the space
\[
P \times_G F \defeq (P \times F)/G
\]
where the right $G$-action on $F$ is the diagonal action, i.e.
$(p,f)\cdot g = (p\cdot g, f\cdot g)$.
\end{defn}
%
If instead we have a left $G$-action on $F$, we can turn it into a right action
by defining $f \cdot g \defeq g\inv \cdot f$. As the name suggests, $P \times_G F$ is
a fiber bundle.
%
\begin{exer}
Let $\pi : P \to X$ a principal bundle. Given a smooth right action of $G$ on
$F$, use local trivializations of $P \to X$ to show that the map taking an
equivalence class $[p,f]$ to $\pi(p)$ gives $P\times_G F$ the structure of a fiber
bundle over $X$ with model fiber $F$.
\end{exer}
%
In the case that the model fiber is a vector space $V$, and the action is
linear, the associated bundle $P \times_G V$ is a vector bundle.
%
\begin{exer} \enumbreak
\begin{enumerate}
  \item Let $E \to X$ be a rank $k$ vector bundle, and $\B_{\GL_k\R}(E)$ be its
  $\GL_k\R$-bundle of frames. Let $\rho : \GL_k\R \to \GL_k\R$ be the
  defining representation (i.e. the identity map). Show that the associated bundle
  $\B_{\GL_k\R}(E) \times_{\GL_k\R} \R^k$ is isomorphic to $E$.
  \item Further suppose that $E$ comes equipped with a fiber metric, and let
  $\B_{\mathrm{O}}(E)$  be its orthonormal frame bundle. The associated
  bundle $\B_{\mathrm{O}}(E) \times_{\mathrm{O}_k} \R^k$ is isomorphic to $E$
  by a near identical proof as the previous part. How can one recover the fiber
  metric?
  \item Let $\rho^* : \GL_k\R \to \GL_k\R$ denote the dual representation of the
  defining representation $\rho$, so $\rho(A) = (A\inv)^T$. Show that the associated
  bundle is isomorphic to the dual bundle $E^*$. In particular, this should
  illuminate the distinction between the tangent and cotangent bundles.
\end{enumerate}
\end{exer}
%
\begin{exmp}
There are two important examples of associated bundles that we'll need to discuss
the Yang-Mills equations.
\begin{enumerate}
  \item The bundle $\Ad P \defeq P \times_G G$ where $G$ acts on $G$ by conjugation.
  \item The bundle $\ad P \defeq P \times_G \g$ (also denoted $\g_P$) where
  the action is the adjoint action.
\end{enumerate}
Confusingly, the former is sometimes called the ``Adjoint bundle" and the
latter is sometimes called the ``adjoint bundle," which makes it admittedly
hard to distuinguish between them when speaking.
\end{exmp}
%
Associated bundles have another nice feature -- their sections have
a nice interpretation in terms of $G$-equivariant maps.
%
\begin{prop}
Let $E = P \times_G F$ be an associated fiber bundle, and let
$\Gamma(X,E)$ denote the space of global sections, i.e. the space of
smooth maps $f : X \to E$ such that $\pi \circ f = \id_X$, where
$\pi : E \to X$ denotes the projection map. Then there is a bijective correspondence
\[
\Gamma(X,E) \longleftrightarrow \set{G-\text{equivariant maps } P \to F}
\]
\end{prop}
%
\begin{proof}
Let $\sigma : X \to E$ be a section. Then define the map
$\widetilde{\sigma} : P \to F$ as follows: for $x \in X$, let $(p,f)$ be a
representative for $\sigma(x)$. Then define $\widetilde{\sigma}(x) \defeq f$. \\

In the other direction, let $\widetilde{\varphi} : P \to F$ be an equivariant
map. Then define the section $\varphi : X \to E$ by
$\varphi(x) = [p,\widetilde{\varphi}(p)]$ for any choice of $p \in P_x$.
\end{proof}
%
\begin{exer}
Verify that the map $\varphi$ defined above is well-defined. Verify the two
constructions above are inverses to each other.
\end{exer}
%
The main takeaway from the proposition is the motto that ``$G$-equivariant
objects on $P$ descend to objects on $X$." \\

Before we discuss connections on principal bundles, we introduce the concept of
vector bundled valued forms.
%
\begin{defn}
Let $E \to X$ be a vector bundle. An \ib{$E$-valued differential $k$-form} is
a section of $\Lambda^kT^*X\otimes E$. We denote the space of $E$-valued $k$-forms
by $\Omega^k_X(E)$. If $V$ is a fixed vector space, a \ib{$V$-valued differential
$k$-form} is a $X\times V$-valued $k$-form, and we let $\Omega^k_X(V)$ denote the
space of $V$-valued $k$-forms.
\end{defn}
%
In a local frame $\set{e_i}$ for $E$, an $E$-valued $k$-form $\omega$ can be
written uniquely as
\[
\omega = \omega^i \otimes e_i
\]
for $k$-forms $\omega^i \in \Omega^k_X$,so an $E$-valued $k$-form can be thought of
as a vector of $k$-forms. We will usually omite the tensor symbol, and simply
write $\omega = \omega^ie_i$. However, this does not transform tensorially with
respect to coordinate changes on $X$ unless $E$ is a trivial bundle. The
components of the vector transform tensorially with respect to coordinate changes,
but the vector itself changes according to the transition functions of the vector
bundle $E$. Given $E$-valued forms $\omega \in \Omega^k_X(E)$ and
$\eta \in \Omega^\ell_X(E)$, we define their wedge product in a local trivialization to
be
\[
\omega \wedge \eta \defeq  (\omega^i \wedge \eta^j)e_i \otimes e_j\
\]
which is an element of $\Omega^{k+\ell}_X(E \otimes E)$. \\

For the most part, we will be concerned with Lie algebra valued forms,
which are just $\g$-valued forms for a fixed Lie algebra $\g$. These
forms have some additional operations coming from the Lie algebra structure
of $\g$. Fix a basis $\set{\xi_i}$ for $\g$. This determines a global
trivialization of the trivial bundle $X \times \g$, so any $\g$-valued
$K$-form $\omega \in \Omega^k_X(\g)$ can be uniquely written as
$\omega = \omega^i\xi_i$. Let
$\omega \in \Omega^k_X(\g)$ and $\eta \in \Omega^\ell_X(\g)$. Then define their
bracket to be
\[
[\omega\wedge\eta] \defeq (\omega^i \wedge \eta^j)[\xi_i,\xi_j]
\]
In other words, it is the composition
\[\begin{tikzcd}
\Omega^k_X(\g) \otimes \Omega^k_X(\g) \ar[r] & \Omega^{k+\ell}_X(\g \otimes \g) \ar[r] &
\Omega^{k+\ell}(\g)
\end{tikzcd}\]
where the first map is the wedge product, and the second map is induced by the
Lie bracket. Finally, the usual exterior derivative $d : \Omega^k_X \to \Omega^{k+1}_X$
extends to an operator on $\Omega^k_X(\g)$, given by $d\omega = d\omega^i\xi_i$. \\

We now discuss connections. Let $\pi : P \to X$ be a principal $G$-bundle, and
let $\g$ be the Lie algebra of $G$. The projection map $\pi$ is a submersion,
so it is constant rank. Therefore, the subset $V \subset TP$ where the fiber
over $p$ is $\ker d\pi_p$ is a subbundle, called the \ib{vertical distribution}
of $P$, giving us an exact sequence of vector bundles over $P$
\[\begin{tikzcd}
0 \ar[r] & V \ar[r] & TP \ar[r] & \pi^*TX \ar[r] & 0
\end{tikzcd}\]
%
\begin{defn}
A \ib{connection} on $P$ is a distribution $H \subset TP$ such that
\begin{enumerate}
  \item $V \oplus H = TP$ \\
  \item $H_{p \cdot g} = d(R_g)_pH_p$, where $R_g : P \to P$ is the map
  $p \mapsto p\cdot g$.
\end{enumerate}
The distribution $H$ is also called the \ib{horizontal distribution}.
We let $\mathscr{A}(P)$ denote the space of connections on $P$.
\end{defn}
%
Equivalently, it is a choice of $G$-invariant splitting of the exact sequence.
The perspective of viewing a connection as a horizontal distribution is useful
at times, but it is often more convenient for computations to rephrase a connection
in terms of $\g$-valued forms. Let $\exp : \g \to G$ denote the exponential map.
Given $X \in \g$ and $p \in P$, the exponential map determines a curve
$\gamma_X$ with $\gamma_X(0) = p$ where
\[
\gamma_X(t) \defeq p \cdot \mathrm{exp}(tX)
\]
Since the action of $G$ preserves the fiber $P_{\pi(p)}$, the tangent vector
\[
\dt{\gamma}_X \defeq \frac{d}{dt}\bigg\vert_{t=0} \gamma_X(t)
\]
lies in $V_p$. Furthermore, since the action of $G$ on $P$ is free,
we have that $\dt{\gamma}_X = 0$ if and only if $X = 0$. Finally,
the mapping $X \mapsto \dt{\gamma}_X$ is linear, so we have that this
gives an isomorphism $\g \to V_p$ by a dimension count. Doing this
over all $p \in P$, this gives an isomorphism of $V$ with the trivial bundle
$P \times \g$. Because of this, we will implicitly identify elements of
$\g$ with the vertical vector fields they determine. One thing to note
is how these vector fields transform with respect to the action of $G$.
%
\begin{prop}
Let $X \in \g$, and let $\widetilde{X}$ denote the vertical vector field on $P$
induced by $X$. For $g \in G$, let $R_g : P \to P$ be map given by the action of $g$.
Then
\[
(R_g)_*\widetilde{X} = \widetilde{\Ad_{g\inv}X}
\]
\end{prop}
%
\begin{proof}
We compute
\begin{align*}
((R_g)_*\widetilde{X}_p)
&= (R_g)_*\left(\frac{d}{dt}\bigg\vert_{t=0}p\cdot\exp(tX)\right) \\
&= \frac{d}{dt}\bigg\vert_{t=0}p\cdot(\exp(tX)g) \\
&= (p\cdot g)(g\inv\exp(tX)g) \\
&= (\widetilde{\Ad_{g\inv}X})_{p\cdot g}
\end{align*}
\end{proof}
%
Furthermore, the identification of the vertical distribution $V$ with the trivial
bundle $X \times \g$ gives us a nice characterization of $E$-valued forms,
when $E = P\times_G W$ is an associated bundle coming from a linear representation
$\rho : G \to \GL(W)$.
%
\begin{prop}
Let $P \to M$ be a principal bundle and $E$ the associated bundle coming from
a linear representation $\rho : G \to \GL(W)$. Then there is a bijective
correspondence
\[
\Omega^k_X(E) \leftrightarrow \set{\alpha \in \Omega^k_P(W) ~:~ R^*_g\alpha =
\rho(g\inv)\alpha~,~ \iota_X\alpha = 0 \forall X \in \g}
\]
where we identify $X \in \g$ with its vertical vector field and
$\iota_\xi$ denotes interior multiplication.
\end{prop}
%
Morally, the correspondence comes from the fact that a form on $P$ descending
to $X$ should satisfy $G$-invariance, and should be invariant in the vertical
directions.
%
\begin{exer}
Prove the previous proposition.
\end{exer}
%
\begin{exer}
Using the proposition above, prove that the space $\mathscr{A}(P)$ of connections
is an affine space over $\Omega^1_X(\g_P)$, i.e. show that the difference
$A_1 - A_2$ between two connections is an element of $\Omega^1_X(\g_P)$.
\end{exer}
%
Now suppose we have a horizontal distribution $H \subset TP$. The decomposition
$TP = V \oplus H$ gives us a projection map $TP \to V$ with kernel $H$.
Identifying $V$ with $P \times \g$, the projection map can be idenfied with
a $\g$-valued $1$-form $A \in \Omega^1_P(\g)$, called the
\ib{connection $1$-form}. Using the transformation law for the vertical
vector fields determined by $\g$, we get the following transformation law
for the connection $1$-form $A$.
%
\begin{prop}
A connection $1$-form $A \in \Omega^1_P(\g)$ satisfies
\[
R^*_gA = \Ad_{g\inv}A
\]
\end{prop}
%
\begin{proof}
For $v \in T_pP$, decompose $v = X + h$ with $X \in \g$ and $h \in H_p$.
We then compute
\begin{align*}
(R_g^*A)(v) &= (R^*_gA)(X + h) \\
&= A_{p\cdot g}((R_g)_*X + (R_g)_*h) \\
&= A_{p\cdot g}(\Ad_{g\inv} X) \\
&= (\Ad_{g\inv}A)_p(X+h)
\end{align*}
where we use the fact that $H_p$ is the the kernel of $A_p$ and the fact that $H$
is $G$-invariant.
\end{proof}
%
Furthermore, since $A$ is given by projection onto the vertical distribution,
we have that $\iota_XA = X$ for all $X \in \g$. This gives us an identification
of $\mathscr{A}(P)$ with the subset of $\Omega^1_P(\g)$ satisfying the conditions
\begin{enumerate}
  \item $R_g^*A = \Ad_{g\inv}A$
  \item $\iota_XA = X$ for all $X \in \g$.
\end{enumerate}
%
The second condition can be rephrased in terms of the \ib{Maurer-Cartan form}
$\theta \in \Omega^1_G(\g)$, which is defined by
\[
\theta_g(v) = (dL_{g\inv})_g(v)
\]
where $L_{g\inv} : G \to G$ is left multiplication by $g\inv$. The action
of $G$ on any $G$-torsor $X$ gives us a Maurer-Cartan form on $X$.
%
\begin{exer}
Show that the second condition is equivalent to $A\vert_{P_x} = \theta$
for any $x \in X$.
\end{exer}
%
The Maurer-Cartan form $\theta$ satisfies the \ib{Maurer-Cartan equation}
\[
d\theta + \frac{1}{2}[\theta\wedge\theta] = 0
\]
%
\begin{defn}
Let $A \in \mathscr{A}(P)$ be a connection. Then the \ib{curvature of $A$},
denoted $F_A$, is the $\g$-valued $2$ form
\[
F_A \defeq dA = \frac{1}{2}[A \wedge A]
\]
\end{defn}
%
\begin{prop} \enumbreak
\begin{enumerate}
  \item $R^*_gF_A = \Ad_{g\inv}F_A$.
  \item $\iota_XF_A = 0$ for all $X \in \g$.
\end{enumerate}
\end{prop}
%
\begin{proof} \enumbreak
\begin{enumerate}
  \item We compute
  \begin{align*}
  R^*F_A &= R^*_gdA + \frac{1}{2}R^*_g[A \wedge A] \\
  &= d(\Ad_{g\inv}A) + \frac{1}{2}[R^*_gA \wedge R^*_GA] \\
  &= \Ad_{g\inv}dA + \frac{1}{2}[\Ad_{g\inv}A \wedge \Ad_{g\inv}A] \\
  &= \Ad_{g\inv}F_A
  \end{align*}
  \item For this, we use a lemma.
  \begin{lem*}[\ib{Cartan's magic formula}]
  Let $X$ be a vector field, and $\omega$ a $k$-form. Let $\mathcal{L}_X$ denote
  the Lie derivative along $X$. Then
  \[
  \mathcal{L}_X = d\iota_X\omega + \iota_Xd\omega
  \]
  \end{lem*}
  Let $X \in \g$, interpreted as a vertical vector field on $P$. Then
  we compute
  \[
  \iota_XF_A = \iota_XdA + \frac{1}{2}\iota_X[A \wedge A]
  \]
  We compute the two terms separately. Cartan's magic formula gives us that
  \[
  \mathcal{L}_XA = d\iota_XA + \iota_XdA
  \]
  Since $\iota_XF_A$ is the constant function with value $X$,
  we have that $d\iota_XF_A$ is $0$, so we get $\mathcal{L}_XF_A = \iota_XdF_A$.
  Using the definition of the Lie derivative, we compute
  \begin{align*}
  \mathcal{L}_XA &= \frac{d}{dt}\bigg\vert_{t=0}R^*_{\exp{tX}}A \\
  &= \frac{d}{dt}\bigg\vert_{t=0}\Ad_{\exp(tX)\inv}A  \\
  &= [-X, A]
  \end{align*}
  For the other term, we compute
  \[
  \frac{1}{2}\iota_X[A \wedge A] = \frac{1}{2}[\iota_XA \wedge A] = [X,A]
  \]
  adding these together gives us the desired result.
\end{enumerate}
\end{proof}
%
In other words, the curvature $F_A$ descends to a $\g_P$-valued $2$-form
on the base manifold $X$.
%
\begin{exer}
Given a connection $A$ on a principal bundle $P$, prove that the curvature
$F_A$ vanishes if and only if horizontal distribution $H$ defined by the
kernel of $A$ is integrable. To prove this, reformulate Frobenius' theorem
(a distribution is integrable if and only if it is involutive) in terms
of the vanishing of a tensor, and show that this tensor (up to sign) is equal
to $F_A$.
\end{exer}
%
\begin{defn}
A connection $A \in \mathscr{A}(P)$ is \ib{flat} if $F_A = 0$.
\end{defn}
%
For vector bundles, a more familiar definition of a connection involves
a first order operator on sections satisfying a Leibniz rule. Using
the language of principal bundles and associated bundles, we recover
this notion with the exterior covariant derivative.
%
\begin{defn}
Let $E = P\times_G W$ be the associated vector bundle obtained from a
linear representation $\rho : G \to \GL(W)$, and let $\dt{\rho} : \g \to \End(W)$
denote the associated Lie algebra representation. The \ib{exterior covariant derviative}
is the map
\begin{align*}
d_A : \Omega^p_X(E) &\to \Omega^{p+1}_X(E) \\
\psi &\mapsto d\psi + \dt\rho(A) \wedge \psi
\end{align*}
\end{defn}
%
\begin{exer}
Recall that a connection on a vector bundle $E \to X$ is given in a local
trivialization by $d + A$ for some $\End(E)$-valued $1$-form $A$.
Show that when $P = \B_{\GL_k\R}(E)$ is the frame bundle of a vector
bundle $E$, the exterior covariant derivative on sections agrees with
this definition.
\end{exer}
%
For the most part, we will be concerned with situation when the vector
bundle is $\g_P$, in which case, the formula is given by
\[
d_A\psi = d\psi + [A,\psi]
\]
Since $\mathscr{A}(P)$ is an affine space over $\Omega^1_X(\g_P)$, given
a connection $A \in \mathscr{A}(P)$ and a $\g_P$-valued $1$-form
$\eta \in \Omega^1_X(\g_P)$, we have that $A + \eta$ is also a connection.
It can be shown that the curvature of $A+\eta$ is given by
\[
F_{A + \eta} = F_A + \frac{1}{2}[\eta\wedge\eta] + d_A\eta
\]
In particular, if we take a line of connections $A + t\eta$ with $t \in \R$,
we have
\[
\frac{d}{dt}\bigg\vert_{t=0}F_{A+t\eta}
= \frac{d}{dt}\bigg\vert_{t=0}F_A + \frac{t^2}{2}[\eta\wedge\eta] + td_A\eta
= d_A\eta
\]
So the exterior covariant derivative on $\g_P$ measures the infitesimal
change of the curvature of $A$ in the direction $\eta$.
%